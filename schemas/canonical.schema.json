{
    "$schema":  "https://json-schema.org/draft/2020-12/schema",
    "$id":  "https://beto.factory/schema/canonical.json",
    "title":  "Beto Factory Canonical Model",
    "type":  "object",
    "required":  [
                     "layout",
                     "components",
                     "assets"
                 ],
    "properties":  {
                       "$schema":  {
                                       "type":  "string"
                                   },
                       "metadata":  {
                                        "type":  "object",
                                        "properties":  {
                                                           "title":  {
                                                                         "type":  "string"
                                                                     },
                                                           "description":  {
                                                                               "type":  "string"
                                                                           },
                                                           "version":  {
                                                                           "type":  [
                                                                                        "string",
                                                                                        "number"
                                                                                    ]
                                                                       }
                                                       },
                                        "additionalProperties":  true
                                    },
                       "layout":  {
                                      "type":  "object",
                                      "required":  [
                                                       "header",
                                                       "footer"
                                                   ],
                                      "properties":  {
                                                         "header":  {
                                                                        "type":  [
                                                                                     "object",
                                                                                     "string"
                                                                                 ]
                                                                    },
                                                         "footer":  {
                                                                        "type":  [
                                                                                     "object",
                                                                                     "string"
                                                                                 ]
                                                                    }
                                                     },
                                      "additionalProperties":  true
                                  },
                       "sections":  {
                                        "items":  {
                                                      "properties":  {
                                                                         "content":  {
                                                                                         "type":  [
                                                                                                      "string",
                                                                                                      "object",
                                                                                                      "array"
                                                                                                  ]
                                                                                     },
                                                                         "type":  {
                                                                                      "type":  "string",
                                                                                      "enum":  [
                                                                                                   "hero",
                                                                                                   "banner",
                                                                                                   "product-grid",
                                                                                                   "category-grid",
                                                                                                   "testimonial",
                                                                                                   "navigation",
                                                                                                   "footer"
                                                                                               ]
                                                                                  },
                                                                         "settings":  {
                                                                                          "type":  "object"
                                                                                      }
                                                                     },
                                                      "type":  "object",
                                                      "required":  [
                                                                       "type"
                                                                   ]
                                                  },
                                        "type":  "array"
                                    },
                       "components":  {
                                          "oneOf":  [
                                                        {
                                                            "type":  "object",
                                                            "properties":  {
                                                                               "hero":  {
                                                                                            "type":  "object",
                                                                                            "required":  [
                                                                                                             "type",
                                                                                                             "props"
                                                                                                         ],
                                                                                            "properties":  {
                                                                                                               "type":  {
                                                                                                                            "const":  "banner"
                                                                                                                        },
                                                                                                               "props":  {
                                                                                                                             "type":  "object",
                                                                                                                             "properties":  {
                                                                                                                                                "title":  {
                                                                                                                                                              "type":  "string"
                                                                                                                                                          },
                                                                                                                                                "image":  {
                                                                                                                                                              "type":  [
                                                                                                                                                                           "string",
                                                                                                                                                                           "null"
                                                                                                                                                                       ]
                                                                                                                                                          }
                                                                                                                                            },
                                                                                                                             "additionalProperties":  true
                                                                                                                         }
                                                                                                           },
                                                                                            "additionalProperties":  true
                                                                                        },
                                                                               "product-grid":  {
                                                                                                    "type":  "object",
                                                                                                    "properties":  {
                                                                                                                       "type":  {
                                                                                                                                    "const":  "grid"
                                                                                                                                }
                                                                                                                   },
                                                                                                    "required":  [
                                                                                                                     "type"
                                                                                                                 ],
                                                                                                    "additionalProperties":  true
                                                                                                }
                                                                           },
                                                            "additionalProperties":  true
                                                        },
                                                        {
                                                            "items":  {
                                                                          "properties":  {
                                                                                             "properties":  {
                                                                                                                "type":  "object"
                                                                                                            },
                                                                                             "type":  {
                                                                                                          "type":  "string"
                                                                                                      }
                                                                                         },
                                                                          "type":  "object"
                                                                      },
                                                            "type":  "array"
                                                        }
                                                    ]
                                      },
                       "assets":  {
                                      "type":  "object",
                                      "properties":  {
                                                         "images":  {
                                                                        "type":  "array",
                                                                        "items":  {
                                                                                      "type":  "string"
                                                                                  }
                                                                    },
                                                         "styles":  {
                                                                        "items":  {
                                                                                      "type":  "string"
                                                                                  },
                                                                        "type":  "array"
                                                                    },
                                                         "scripts":  {
                                                                         "items":  {
                                                                                       "type":  "string"
                                                                                   },
                                                                         "type":  "array"
                                                                     }
                                                     },
                                      "additionalProperties":  false
                                  }
                   },
    "additionalProperties":  true
}