# 🧱 Beto Factory — Project Status & Remaining Development

## ✅ Completed / Stable
- Core project setup — NPM project initialized, scripts configured, dependencies installed.
- Smart Parser (HTML → Canonical) — per-folder canonical at `canonical/<folder>/theme.json` + `meta.json`; multi-file HTML support; metadata extraction (title, meta tags, theme-color, JSON-LD capture); assets discovery (images/styles/scripts) with normalized paths.
- Smart Watcher (simple) — `tools/simple-watcher.cjs` available; initial scan and basic folder monitoring supported.
- Salla Adapter Bridge — builds namespaced themes under `build/salla-themes/<folder>/`; soft structure validation warnings; `manifest.json` with asset hashes and meta title; zipping supported.
- File Structure & Build Pipeline — Input → Canonical → Build flow established; parse step also triggers adapter generation.
- Logs System — `logs/` used by parser/validator; warnings/errors are surfaced in console; status files supported.
- Automation Scripts (CLI) — `parse`, `smart-validate`, `smart-watch:simple`, `salla:*:ns`, and `status` scripts available.
- Validation & Schema — `tools/schema-validator.cjs` (Ajv) active; `npm run smart-validate` validates canonical folders.

## ⚙️ In Progress / Partially Implemented
- Canonical Path Structure — DONE for new runs; legacy `canonical/theme.json` may still exist from earlier runs.
- Asset Management — Deep copy in place; further normalization of in-CSS/in-HTML relative paths planned; QA summary present but could expand.
- Watcher Queue Control — Simple watcher present; advanced queue/backoff not yet integrated.
- Error Recovery — Retries exist in adapter step (one retry); broader re-queue/backoff not yet added.
- Logs Enhancement — `factory-status.json` planned; current logs/basic summaries exist; more timestamps/summary desired.
- Salla CLI Integration — Namespaced serve/validate/publish scripts present; authentication not verified in this environment.

## ❌ Not Yet Developed / Missing
- Universal theme folder support across both `input/` and `smart-input/input/` in one watcher.
- Full multi-file HTML parsing for complex sites (beyond basic) — baseline exists, more mapping rules pending.
- Rich Metadata extraction to separate `canonical/meta.json` for all folders (now present for new runs; backfill older outputs pending).
- Component Mapping heuristics (hero/cards/FAQ) — initial stubs; needs broader coverage.
- Adapter Config registry (multi-platform) — `config/adapters.json` exists for Salla; registry for others pending.
- One-command end-to-end wrapper — `factory:build` script target missing; parse already builds, but a unified CLI is desirable.
- UI Preview server — planned; not wired to canonical yet.
- Test suite expansion — more coverage for validator batch/all, watcher behavior, and QA summary.
- Documentation package — needs a full pass (README, QuickStart, API Docs, Contribution Guide).

## 🚀 Future Enhancements (Planned Next Phases)
- Phase 7 – Canonical Upgrade: multi-file support + recursive asset parser + path rewriting.
- Phase 8 – Adapter Refactor: modular adapter registry (Salla, Zid later).
- Phase 9 – Factory Dashboard: local web UI for dropping folders, monitoring logs.
- Phase 10 – QA Automation: visual diff tests & auto schema checks.
- Phase 11 – Marketplace Integration: optional ZIP upload / publish system.

## 🧮 Summary Progress Table
- Core Setup & Automation — 100%
- Parsing & Canonical Conversion — 85%
- Adapter & Theme Generation — 80%
- Asset & File Management — 70%
- Watcher & Logging — 70%
- Validation & Testing — 60%
- Documentation & Dev Tools — 40%
- UI Preview + Packaging — 20%

## ✅ Current Developer Actions
- Confirm clean runs:
  - `npm run parse`
  - `npm run smart-validate`
  - `npm run factory:build` (now available; one-folder or all)
- Optional: serve via Salla CLI once authenticated:
  - `npm run salla:serve:ns -- <folder>`
- Priorities:
  - Asset normalization Phase 2 (CSS/HTML internal refs to normalized paths) — initial path normalization added in parser
  - Expand QA summary (images/styles/scripts counts, normalized assets)
  - Iterate on watcher/queue/backoff

---
Generated by the smart sync cycle after verifying parse/validate/build on this machine.
